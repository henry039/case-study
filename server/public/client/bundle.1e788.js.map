{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/engine.io-client/lib/transports/websocket.js","webpack:///../node_modules/socket.io-parser/dist/is-binary.js","webpack:///../node_modules/socket.io-client/build/manager.js","webpack:///../node_modules/socket.io-client/build/url.js","webpack:///../node_modules/socket.io-client/build/typed-events.js","webpack:///../node_modules/debug/src/common.js","webpack:///../node_modules/socket.io-client/build/socket.js","webpack:///../node_modules/has-cors/index.js","webpack:///../node_modules/debug/src/browser.js","webpack:///../node_modules/engine.io-parser/lib/encodePacket.browser.js","webpack:///../node_modules/engine.io-client/lib/util.js","webpack:///../node_modules/engine.io-client/lib/xmlhttprequest.js","webpack:///../node_modules/engine.io-parser/lib/commons.js","webpack:///../node_modules/engine.io-parser/lib/index.js","webpack:///../node_modules/engine.io-client/lib/transports/polling-jsonp.js","webpack:///../node_modules/yeast/index.js","webpack:///../node_modules/engine.io-client/lib/transports/index.js","webpack:///../node_modules/engine.io-parser/lib/decodePacket.browser.js","webpack:///../node_modules/parseqs/index.js","webpack:///../node_modules/socket.io-client/build/index.js","webpack:///../node_modules/socket.io-parser/dist/binary.js","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js","webpack:///../node_modules/socket.io-parser/dist/index.js","webpack:///../node_modules/ms/index.js","webpack:///../node_modules/backo2/index.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/engine.io-client/lib/globalThis.browser.js","webpack:///../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","webpack:///../node_modules/engine.io-client/lib/index.js","webpack:///../src/index.js","webpack:///./components/content.css","webpack:///./components/content.tsx","webpack:///./index.ts","webpack:///./components/app.tsx","webpack:///../node_modules/engine.io-client/lib/transports/polling.js","webpack:///../node_modules/parseuri/index.js","webpack:///../node_modules/engine.io-client/lib/transports/polling-xhr.js","webpack:///../node_modules/engine.io-client/lib/transport.js","webpack:///../node_modules/engine.io-client/lib/socket.js","webpack:///../node_modules/socket.io-client/build/on.js","webpack:///../node_modules/component-emitter/index.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Transport","require","parser","parseqs","yeast","pick","WebSocket","usingBrowserWebSocket","defaultBinaryType","nextTick","debug","isReactNative","navigator","product","toLowerCase","opts","supportsBinary","forceBase64","doOpen","this","check","uri","protocols","extraHeaders","headers","ws","err","emit","binaryType","socket","addEventListeners","onopen","autoUnref","_socket","unref","onOpen","onclose","onClose","onmessage","ev","onData","data","onerror","e","onError","write","packets","writable","packet","lastPacket","length","encodePacket","options","compress","perMessageDeflate","Buffer","byteLength","threshold","send","doClose","close","query","schema","secure","port","Number","timestampRequests","timestampParam","b64","encode","hostname","indexOf","path","WS","isBinary","obj","withNativeArrayBuffer","ArrayBuffer","isView","buffer","withNativeBlob","Blob","withNativeFile","File","hasBinary","toString","Array","isArray","toJSON","arguments","Manager","eio","socket_1","on_1","Backoff","typed_events_1","nsps","subs","undefined","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","min","max","jitter","timeout","_readyState","_parser","encoder","Encoder","decoder","Decoder","_autoConnect","autoConnect","open","v","_reconnection","_reconnectionAttempts","_a","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","_reconnecting","attempts","reconnect","fn","engine","self","skipReconnect","openSubDestroy","on","errorSub","cleanup","emitReserved","timer","setTimeout","Error","push","clearTimeout","connect","onping","ondata","ondecoded","add","nsp","Socket","_destroy","keys","active","_close","_packet","encodedPackets","forEach","subDestroy","destroy","reset","disconnect","reason","delay","duration","onreconnect","attempt","StrictEventEmitter","url","parseuri","loc","location","protocol","host","charAt","test","id","href","Emitter","listener","once","args","listeners","event","env","createDebug","namespace","enabled","curr","Date","ms","prevTime","diff","prev","coerce","unshift","index","replace","match","format","formatter","formatters","splice","formatArgs","logFn","log","apply","namespacesCache","enabledCache","enableOverride","useColors","color","selectColor","extend","configurable","namespaces","set","init","delimiter","newDebug","toNamespace","regexp","substring","default","val","stack","message","disable","names","map","skips","join","enable","save","split","len","RegExp","substr","humanize","console","warn","hash","charCodeAt","colors","Math","abs","load","socket_io_parser_1","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","removeListener","io","receiveBuffer","sendBuffer","ids","acks","flags","connected","disconnected","auth","subEvents","onpacket","type","PacketType","EVENT","pop","isTransportWritable","transport","discardPacket","volatile","CONNECT","sid","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","ack","emitEvent","_anyListeners","slice","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","XMLHttpRequest","warned","lastC","storage","setItem","removeItem","error","getItem","process","DEBUG","window","__nwjs","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","$1","localStorage","localstorage","j","JSON","stringify","PACKET_TYPES","encodeBlobAsBase64","callback","fileReader","FileReader","onload","content","result","readAsDataURL","attr","reduce","acc","k","hasCORS","globalThis","xdomain","xscheme","enablesXDR","XDomainRequest","concat","PACKET_TYPES_REVERSE","ERROR_PACKET","decodePacket","SEPARATOR","String","fromCharCode","encodePayload","count","encodedPacket","decodePayload","encodedPayload","decodedPacket","callbacks","Polling","rNewline","rEscapedNewline","___eio","script","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","doWrite","complete","initIframe","area","iframeId","className","position","top","left","target","method","setAttribute","action","submit","attachEvent","onreadystatechange","readyState","num","encoded","alphabet","floor","now","seed","decode","str","decoded","XHR","JSONP","websocket","polling","xd","xs","jsonp","isSSL","forceJSONP","base64decoder","decodeBase64Packet","mapBinary","base64","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","lookup","parsed","url_1","source","forceNew","multiplex","cache","manager_1","queryKey","managers","manager_2","_deconstructPacket","buffers","is_binary_1","placeholder","_placeholder","newData","_reconstructPacket","reconstructPacket","deconstructPacket","pack","attachments","assign","props","removeNode","node","children","ref","normalizedProps","defaultProps","createVNode","original","vnode","constructor","vnodeId","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","rerenderQueue","prevDebounce","debounceRendering","defer","queue","sort","a","b","some","component","commitQueue","oldVNode","oldDom","parentDom","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","reorderChildren","placeChild","unmount","applyRef","tmp","nextDom","sibDom","outer","nextSibling","setStyle","setProperty","IS_NON_DIMENSIONAL","dom","oldValue","useCapture","cssText","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","removeAttribute","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","newType","contextType","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","root","cb","oldHtml","newHtml","nodeType","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","current","parentVNode","skipRemove","componentWillUnmount","replaceNode","firstChild","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","forceUpdate","Promise","then","resolve","MozWebSocket","binary_1","encodeAsString","encodeAsBinary","deconstruction","decodeString","reconstructor","BinaryReconstructor","takeBinaryData","start","buf","next","payload","parse","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","plural","msAbs","isPlural","round","h","exec","parseFloat","isFinite","long","fmtShort","factor","pow","rand","random","deviation","Preact","interopDefault","normalizeURL","serviceWorker","register","__webpack_public_path__","getElementById","firstElementChild","app","preRenderData","inlineDataElement","querySelector","decodeURI","CLI_DATA","currentURL","canHydrate","pathname","Function","chars","arraybuffer","bytes","Uint8Array","encoded1","encoded2","encoded3","encoded4","bufferLength","transports","getHookState","currentComponent","currentHook","hooks","useState","initialState","reducer","hookState","currentIndex","_reducer","invokeOrReturn","nextValue","useReducer","useEffect","argsChanged","flushAfterPaintEffects","afterPaintEffects","invokeCleanup","invokeEffect","hook","comp","oldArgs","newArgs","arg","f","prevRaf","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","requestAnimationFrame","raf","done","HAS_RAF","cancelAnimationFrame","filter","Content","input","socketConn","setSocketConn","isGameStart","setIsGameStart","isGameEnd","setIsGameEnd","roomId","URL","token","playerName","handlePress","styles","disabled","onClick","App","setPlayerName","confirmToJoin","setConfirm","for","onChange","poll","pause","onPause","total","onPacket","re","parts","authority","ipv6uri","pathNames","$0","$2","empty","unloadHandler","Request","requests","abort","hasXHR2","responseType","request","req","pollXhr","xhr","setDisableHeaderCheck","setRequestHeader","withCredentials","requestTimeout","hasXDR","onLoad","responseText","status","requestsCount","onSuccess","fromError","msg","desc","description","writeBuffer","prevBufferLen","agent","upgrade","rememberUpgrade","rejectUnauthorized","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","removeAllListeners","offlineEventListener","createTransport","clone","EIO","priorWebsocketSuccess","shift","setTransport","onDrain","probe","freezeTransport","failed","onTransportClose","onupgrade","to","onTransportOpen","upgrading","flush","onHandshake","resetPingTimeout","sendPacket","code","filterUpgrades","cleanupAndClose","waitForUpgrade","pingIntervalTimer","filteredUpgrades","off","mixin","_callbacks","hasListeners"],"mappings":"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","file":"bundle.1e788.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/client/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","const Transport = require(\"../transport\");\nconst parser = require(\"engine.io-parser\");\nconst parseqs = require(\"parseqs\");\nconst yeast = require(\"yeast\");\nconst { pick } = require(\"../util\");\nconst {\n  WebSocket,\n  usingBrowserWebSocket,\n  defaultBinaryType,\n  nextTick\n} = require(\"./websocket-constructor\");\n\nconst debug = require(\"debug\")(\"engine.io-client:websocket\");\n\n// detect ReactNative environment\nconst isReactNative =\n  typeof navigator !== \"undefined\" &&\n  typeof navigator.product === \"string\" &&\n  navigator.product.toLowerCase() === \"reactnative\";\n\nclass WS extends Transport {\n  /**\n   * WebSocket transport constructor.\n   *\n   * @api {Object} connection options\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.supportsBinary = !opts.forceBase64;\n  }\n\n  /**\n   * Transport name.\n   *\n   * @api public\n   */\n  get name() {\n    return \"websocket\";\n  }\n\n  /**\n   * Opens socket.\n   *\n   * @api private\n   */\n  doOpen() {\n    if (!this.check()) {\n      // let probe timeout\n      return;\n    }\n\n    const uri = this.uri();\n    const protocols = this.opts.protocols;\n\n    // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n    const opts = isReactNative\n      ? {}\n      : pick(\n          this.opts,\n          \"agent\",\n          \"perMessageDeflate\",\n          \"pfx\",\n          \"key\",\n          \"passphrase\",\n          \"cert\",\n          \"ca\",\n          \"ciphers\",\n          \"rejectUnauthorized\",\n          \"localAddress\",\n          \"protocolVersion\",\n          \"origin\",\n          \"maxPayload\",\n          \"family\",\n          \"checkServerIdentity\"\n        );\n\n    if (this.opts.extraHeaders) {\n      opts.headers = this.opts.extraHeaders;\n    }\n\n    try {\n      this.ws =\n        usingBrowserWebSocket && !isReactNative\n          ? protocols\n            ? new WebSocket(uri, protocols)\n            : new WebSocket(uri)\n          : new WebSocket(uri, protocols, opts);\n    } catch (err) {\n      return this.emit(\"error\", err);\n    }\n\n    this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n\n    this.addEventListeners();\n  }\n\n  /**\n   * Adds event listeners to the socket\n   *\n   * @api private\n   */\n  addEventListeners() {\n    this.ws.onopen = () => {\n      if (this.opts.autoUnref) {\n        this.ws._socket.unref();\n      }\n      this.onOpen();\n    };\n    this.ws.onclose = this.onClose.bind(this);\n    this.ws.onmessage = ev => this.onData(ev.data);\n    this.ws.onerror = e => this.onError(\"websocket error\", e);\n  }\n\n  /**\n   * Writes data to socket.\n   *\n   * @param {Array} array of packets.\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    // encodePacket efficient as it uses WS framing\n    // no need for encodePayload\n    for (let i = 0; i < packets.length; i++) {\n      const packet = packets[i];\n      const lastPacket = i === packets.length - 1;\n\n      parser.encodePacket(packet, this.supportsBinary, data => {\n        // always create a new object (GH-437)\n        const opts = {};\n        if (!usingBrowserWebSocket) {\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (this.opts.perMessageDeflate) {\n            const len =\n              \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < this.opts.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            this.ws.send(data);\n          } else {\n            this.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug(\"websocket closed before onclose event\");\n        }\n\n        if (lastPacket) {\n          // fake drain\n          // defer to next tick to allow Socket to clear writeBuffer\n          nextTick(() => {\n            this.writable = true;\n            this.emit(\"drain\");\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * Called upon close\n   *\n   * @api private\n   */\n  onClose() {\n    Transport.prototype.onClose.call(this);\n  }\n\n  /**\n   * Closes socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (typeof this.ws !== \"undefined\") {\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"wss\" : \"ws\";\n    let port = \"\";\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n        (\"ws\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // append timestamp to URI\n    if (this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    // communicate binary support capabilities\n    if (!this.supportsBinary) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n\n  /**\n   * Feature detection for WebSocket.\n   *\n   * @return {Boolean} whether this transport is available.\n   * @api public\n   */\n  check() {\n    return (\n      !!WebSocket &&\n      !(\"__initialize\" in WebSocket && this.name === WS.prototype.name)\n    );\n  }\n}\n\nmodule.exports = WS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst eio = require(\"engine.io-client\");\nconst socket_1 = require(\"./socket\");\nconst parser = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst Backoff = require(\"backo2\");\nconst typed_events_1 = require(\"./typed-events\");\nconst debug = require(\"debug\")(\"socket.io-client:manager\");\nclass Manager extends typed_events_1.StrictEventEmitter {\n    constructor(uri, opts) {\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor(opts.randomizationFactor || 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = eio(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on_1.on(socket, \"error\", (err) => {\n            debug(\"error\");\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = setTimeout(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                socket.close();\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_1.on(socket, \"ping\", this.onping.bind(this)), on_1.on(socket, \"data\", this.ondata.bind(this)), on_1.on(socket, \"error\", this.onerror.bind(this)), on_1.on(socket, \"close\", this.onclose.bind(this)), on_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        this.decoder.add(data);\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        this.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        if (\"opening\" === this._readyState) {\n            // `onclose` will not fire because\n            // an open event never happened\n            this.cleanup();\n        }\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason) {\n        debug(\"onclose\");\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = setTimeout(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst parseuri = require(\"parseuri\");\nconst debug = require(\"debug\")(\"socket.io-client:url\");\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = parseuri(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StrictEventEmitter = void 0;\nconst Emitter = require(\"component-emitter\");\n/**\n * Strictly typed version of an `EventEmitter`. A `TypedEventEmitter` takes type\n * parameters for mappings of event names to event data types, and strictly\n * types method calls to the `EventEmitter` according to these event maps.\n *\n * @typeParam ListenEvents - `EventsMap` of user-defined events that can be\n * listened to with `on` or `once`\n * @typeParam EmitEvents - `EventsMap` of user-defined events that can be\n * emitted with `emit`\n * @typeParam ReservedEvents - `EventsMap` of reserved events, that can be\n * emitted by socket.io with `emitReserved`, and can be listened to with\n * `listen`.\n */\nclass StrictEventEmitter extends Emitter {\n    /**\n     * Adds the `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    on(ev, listener) {\n        super.on(ev, listener);\n        return this;\n    }\n    /**\n     * Adds a one-time `listener` function as an event listener for `ev`.\n     *\n     * @param ev Name of the event\n     * @param listener Callback function\n     */\n    once(ev, listener) {\n        super.once(ev, listener);\n        return this;\n    }\n    /**\n     * Emits an event.\n     *\n     * @param ev Name of the event\n     * @param args Values to send to listeners of this event\n     */\n    emit(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Emits a reserved event.\n     *\n     * This method is `protected`, so that only a class extending\n     * `StrictEventEmitter` can emit its own reserved events.\n     *\n     * @param ev Reserved event name\n     * @param args Arguments to emit along with the event\n     */\n    emitReserved(ev, ...args) {\n        super.emit(ev, ...args);\n        return this;\n    }\n    /**\n     * Returns the listeners listening to an event.\n     *\n     * @param event Event name\n     * @returns Array of listeners subscribed to `event`\n     */\n    listeners(event) {\n        return super.listeners(event);\n    }\n}\nexports.StrictEventEmitter = StrictEventEmitter;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst on_1 = require(\"./on\");\nconst typed_events_1 = require(\"./typed-events\");\nconst debug = require(\"debug\")(\"socket.io-client:socket\");\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\nclass Socket extends typed_events_1.StrictEventEmitter {\n    /**\n     * `Socket` constructor.\n     *\n     * @public\n     */\n    constructor(io, nsp, opts) {\n        super();\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        this.ids = 0;\n        this.acks = {};\n        this.receiveBuffer = [];\n        this.sendBuffer = [];\n        this.connected = false;\n        this.disconnected = true;\n        this.flags = {};\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_1.on(io, \"open\", this.onopen.bind(this)),\n            on_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_1.on(io, \"error\", this.onerror.bind(this)),\n            on_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @public\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for connect()\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * @return self\n     * @public\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @return self\n     * @public\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            debug(\"emitting packet with ack id %d\", this.ids);\n            this.acks[this.ids] = args.pop();\n            packet.id = this.ids++;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data });\n            });\n        }\n        else {\n            this.packet({ type: socket_io_parser_1.PacketType.CONNECT, data: this.auth });\n        }\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @private\n     */\n    onclose(reason) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        this.disconnected = true;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    const id = packet.data.sid;\n                    this.onconnect(id);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.connected = true;\n        this.disconnected = false;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => this.packet(packet));\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually.\n     *\n     * @return self\n     * @public\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for disconnect()\n     *\n     * @return self\n     * @public\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     * @public\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @returns self\n     * @public\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @param listener\n     * @public\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @param listener\n     * @public\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @param listener\n     * @public\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     *\n     * @public\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n}\nexports.Socket = Socket;\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","const { PACKET_TYPES } = require(\"./commons\");\n\nconst withNativeBlob =\n  typeof Blob === \"function\" ||\n  (typeof Blob !== \"undefined\" &&\n    Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\"\n    ? ArrayBuffer.isView(obj)\n    : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (\n    withNativeArrayBuffer &&\n    (data instanceof ArrayBuffer || isView(data))\n  ) {\n    if (supportsBinary) {\n      return callback(data instanceof ArrayBuffer ? data : data.buffer);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  }\n  // plain string\n  return callback(PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n  fileReader.onload = function() {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n  return fileReader.readAsDataURL(data);\n};\n\nmodule.exports = encodePacket;\n","module.exports.pick = (obj, ...attr) => {\n  return attr.reduce((acc, k) => {\n    if (obj.hasOwnProperty(k)) {\n      acc[k] = obj[k];\n    }\n    return acc;\n  }, {});\n};\n","// browser shim for xmlhttprequest module\n\nconst hasCORS = require(\"has-cors\");\nconst globalThis = require(\"./globalThis\");\n\nmodule.exports = function(opts) {\n  const xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  const xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  const enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) {}\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if (\"undefined\" !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) {}\n\n  if (!xdomain) {\n    try {\n      return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\n        \"Microsoft.XMLHTTP\"\n      );\n    } catch (e) {}\n  }\n};\n","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\n\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n  PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\n\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\n\nmodule.exports = {\n  PACKET_TYPES,\n  PACKET_TYPES_REVERSE,\n  ERROR_PACKET\n};\n","const encodePacket = require(\"./encodePacket\");\nconst decodePacket = require(\"./decodePacket\");\n\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\n\nconst encodePayload = (packets, callback) => {\n  // some packets may be added to the array while encoding, so the initial length must be saved\n  const length = packets.length;\n  const encodedPackets = new Array(length);\n  let count = 0;\n\n  packets.forEach((packet, i) => {\n    // force base64 encoding for binary packets\n    encodePacket(packet, false, encodedPacket => {\n      encodedPackets[i] = encodedPacket;\n      if (++count === length) {\n        callback(encodedPackets.join(SEPARATOR));\n      }\n    });\n  });\n};\n\nconst decodePayload = (encodedPayload, binaryType) => {\n  const encodedPackets = encodedPayload.split(SEPARATOR);\n  const packets = [];\n  for (let i = 0; i < encodedPackets.length; i++) {\n    const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n    packets.push(decodedPacket);\n    if (decodedPacket.type === \"error\") {\n      break;\n    }\n  }\n  return packets;\n};\n\nmodule.exports = {\n  protocol: 4,\n  encodePacket,\n  encodePayload,\n  decodePacket,\n  decodePayload\n};\n","const Polling = require(\"./polling\");\nconst globalThis = require(\"../globalThis\");\n\nconst rNewline = /\\n/g;\nconst rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nlet callbacks;\n\nclass JSONPPolling extends Polling {\n  /**\n   * JSONP Polling constructor.\n   *\n   * @param {Object} opts.\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    this.query = this.query || {};\n\n    // define global callbacks array if not present\n    // we do this here (lazily) to avoid unneeded global pollution\n    if (!callbacks) {\n      // we need to consider multiple engines in the same page\n      callbacks = globalThis.___eio = globalThis.___eio || [];\n    }\n\n    // callback identifier\n    this.index = callbacks.length;\n\n    // add callback to jsonp global\n    callbacks.push(this.onData.bind(this));\n\n    // append to query string\n    this.query.j = this.index;\n  }\n\n  /**\n   * JSONP only supports binary as base64 encoded strings\n   */\n  get supportsBinary() {\n    return false;\n  }\n\n  /**\n   * Closes the socket.\n   *\n   * @api private\n   */\n  doClose() {\n    if (this.script) {\n      // prevent spurious errors from being emitted when the window is unloaded\n      this.script.onerror = () => {};\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    if (this.form) {\n      this.form.parentNode.removeChild(this.form);\n      this.form = null;\n      this.iframe = null;\n    }\n\n    super.doClose();\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    const script = document.createElement(\"script\");\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.uri();\n    script.onerror = e => {\n      this.onError(\"jsonp poll error\", e);\n    };\n\n    const insertAt = document.getElementsByTagName(\"script\")[0];\n    if (insertAt) {\n      insertAt.parentNode.insertBefore(script, insertAt);\n    } else {\n      (document.head || document.body).appendChild(script);\n    }\n    this.script = script;\n\n    const isUAgecko =\n      \"undefined\" !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n      setTimeout(function() {\n        const iframe = document.createElement(\"iframe\");\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  }\n\n  /**\n   * Writes with a hidden iframe.\n   *\n   * @param {String} data to send\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    let iframe;\n\n    if (!this.form) {\n      const form = document.createElement(\"form\");\n      const area = document.createElement(\"textarea\");\n      const id = (this.iframeId = \"eio_iframe_\" + this.index);\n\n      form.className = \"socketio\";\n      form.style.position = \"absolute\";\n      form.style.top = \"-1000px\";\n      form.style.left = \"-1000px\";\n      form.target = id;\n      form.method = \"POST\";\n      form.setAttribute(\"accept-charset\", \"utf-8\");\n      area.name = \"d\";\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.uri();\n\n    function complete() {\n      initIframe();\n      fn();\n    }\n\n    const initIframe = () => {\n      if (this.iframe) {\n        try {\n          this.form.removeChild(this.iframe);\n        } catch (e) {\n          this.onError(\"jsonp polling iframe removal error\", e);\n        }\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        const html = '<iframe src=\"javascript:0\" name=\"' + this.iframeId + '\">';\n        iframe = document.createElement(html);\n      } catch (e) {\n        iframe = document.createElement(\"iframe\");\n        iframe.name = this.iframeId;\n        iframe.src = \"javascript:0\";\n      }\n\n      iframe.id = this.iframeId;\n\n      this.form.appendChild(iframe);\n      this.iframe = iframe;\n    };\n\n    initIframe();\n\n    // escape \\n to prevent it from being converted into \\r\\n by some UAs\n    // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n    data = data.replace(rEscapedNewline, \"\\\\\\n\");\n    this.area.value = data.replace(rNewline, \"\\\\n\");\n\n    try {\n      this.form.submit();\n    } catch (e) {}\n\n    if (this.iframe.attachEvent) {\n      this.iframe.onreadystatechange = () => {\n        if (this.iframe.readyState === \"complete\") {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n  }\n}\n\nmodule.exports = JSONPPolling;\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","const XMLHttpRequest = require(\"../../contrib/xmlhttprequest-ssl/XMLHttpRequest\");\nconst XHR = require(\"./polling-xhr\");\nconst JSONP = require(\"./polling-jsonp\");\nconst websocket = require(\"./websocket\");\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts) {\n  let xhr;\n  let xd = false;\n  let xs = false;\n  const jsonp = false !== opts.jsonp;\n\n  if (typeof location !== \"undefined\") {\n    const isSSL = \"https:\" === location.protocol;\n    let port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if (\"open\" in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error(\"JSONP disabled\");\n    return new JSONP(opts);\n  }\n}\n","const { PACKET_TYPES_REVERSE, ERROR_PACKET } = require(\"./commons\");\n\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n\nlet base64decoder;\nif (withNativeArrayBuffer) {\n  base64decoder = require(\"base64-arraybuffer\");\n}\n\nconst decodePacket = (encodedPacket, binaryType) => {\n  if (typeof encodedPacket !== \"string\") {\n    return {\n      type: \"message\",\n      data: mapBinary(encodedPacket, binaryType)\n    };\n  }\n  const type = encodedPacket.charAt(0);\n  if (type === \"b\") {\n    return {\n      type: \"message\",\n      data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n    };\n  }\n  const packetType = PACKET_TYPES_REVERSE[type];\n  if (!packetType) {\n    return ERROR_PACKET;\n  }\n  return encodedPacket.length > 1\n    ? {\n        type: PACKET_TYPES_REVERSE[type],\n        data: encodedPacket.substring(1)\n      }\n    : {\n        type: PACKET_TYPES_REVERSE[type]\n      };\n};\n\nconst decodeBase64Packet = (data, binaryType) => {\n  if (base64decoder) {\n    const decoded = base64decoder.decode(data);\n    return mapBinary(decoded, binaryType);\n  } else {\n    return { base64: true, data }; // fallback for old browsers\n  }\n};\n\nconst mapBinary = (data, binaryType) => {\n  switch (binaryType) {\n    case \"blob\":\n      return data instanceof ArrayBuffer ? new Blob([data]) : data;\n    case \"arraybuffer\":\n    default:\n      return data; // assuming the data is already an ArrayBuffer\n  }\n};\n\nmodule.exports = decodePacket;\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.io = exports.Socket = exports.Manager = exports.protocol = void 0;\nconst url_1 = require(\"./url\");\nconst manager_1 = require(\"./manager\");\nconst debug = require(\"debug\")(\"socket.io-client\");\n/**\n * Module exports.\n */\nmodule.exports = exports = lookup;\n/**\n * Managers cache.\n */\nconst cache = (exports.managers = {});\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_1.url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n/**\n * `connect`.\n *\n * @param {String} uri\n * @public\n */\nexports.connect = lookup;\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nvar manager_2 = require(\"./manager\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_2.Manager; } });\nvar socket_1 = require(\"./socket\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_1.Socket; } });\nexports.default = lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_1 = require(\"./is-binary\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (is_binary_1.isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder) {\n        return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\tif (options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children != null && // Can be null if childVNode suspended\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t// there are probably some internal data structures that aren't\n\t\t\t// updated properly.\n\t\t\t//\n\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t// value check in `diff()` won't be skipped.\n\t\t\tif (!isHydrating && newParentVNode.type === 'option') {\n\t\t\t\t// @ts-ignore We have validated that the type of parentDOM is 'option'\n\t\t\t\t// in the above check\n\t\t\t\tparentDom.value = '';\n\t\t\t} else if (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\tfor (let tmp = 0; tmp < childVNode._children.length; tmp++) {\n\t\tlet vnode = childVNode._children[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tchildVNode._children,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","const globalThis = require(\"../globalThis\");\nconst nextTick = (() => {\n  const isPromiseAvailable =\n    typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n  if (isPromiseAvailable) {\n    return cb => Promise.resolve().then(cb);\n  } else {\n    return cb => setTimeout(cb, 0);\n  }\n})();\n\nmodule.exports = {\n  WebSocket: globalThis.WebSocket || globalThis.MozWebSocket,\n  usingBrowserWebSocket: true,\n  defaultBinaryType: \"arraybuffer\",\n  nextTick\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst Emitter = require(\"component-emitter\");\nconst binary_1 = require(\"./binary\");\nconst is_binary_1 = require(\"./is-binary\");\nconst debug = require(\"debug\")(\"socket.io-parser\");\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (is_binary_1.hasBinary(obj)) {\n                obj.type =\n                    obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK;\n                return this.encodeAsBinary(obj);\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = binary_1.deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends Emitter {\n    constructor() {\n        super();\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            packet = this.decodeString(obj);\n            if (packet.type === PacketType.BINARY_EVENT ||\n                packet.type === PacketType.BINARY_ACK) {\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emit(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emit(\"decoded\", packet);\n            }\n        }\n        else if (is_binary_1.isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emit(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return typeof payload === \"object\";\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || typeof payload === \"object\";\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return Array.isArray(payload) && payload.length > 0;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n        }\n    }\n}\nexports.Decoder = Decoder;\nfunction tryParse(str) {\n    try {\n        return JSON.parse(str);\n    }\n    catch (e) {\n        return false;\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = binary_1.reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(decodeURI(inlineDataElement.innerHTML)).preRenderData ||\n\t\t\t\tpreRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === normalizeURL(location.pathname);\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","module.exports = (() => {\n  if (typeof self !== \"undefined\") {\n    return self;\n  } else if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return Function(\"return this\")();\n  }\n})();\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","const Socket = require(\"./socket\");\n\nmodule.exports = (uri, opts) => new Socket(uri, opts);\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nmodule.exports.Socket = Socket;\nmodule.exports.protocol = Socket.protocol; // this is an int\nmodule.exports.Transport = require(\"./transport\");\nmodule.exports.transports = require(\"./transports/index\");\nmodule.exports.parser = require(\"engine.io-parser\");\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container__keMx3\",\"orange\":\"orange__2w8DM\",\"blue\":\"blue__39JpM\",\"btn\":\"btn__1weVI\"};","import { FunctionalComponent, h} from 'preact';\r\nimport {useEffect, useState} from 'preact/hooks'\r\nimport io, {Socket} from 'socket.io-client'\r\nimport styles from './content.css' \r\n\r\ninterface ContentParams {\r\n    playerName: string\r\n}\r\n\r\nconst Content: FunctionalComponent<ContentParams> = (input) => {\r\n    const [socketConn, setSocketConn] = useState<Socket>()\r\n    const [isGameStart, setIsGameStart] = useState<boolean>(false)\r\n    const [isGameEnd, setIsGameEnd] = useState<boolean>(false)\r\n\r\n    useEffect(() => {\r\n        const roomId = new URL(window.location.href).pathname.split('/')[2]\r\n        const socket = io(\"http://localhost:65431/client\", { transports: [\"websocket\"], auth: {token: 'abc'}, query: {roomId, playerName: input.playerName}})\r\n        setSocketConn(socket)\r\n        socket.emit('client: player join', input.playerName)\r\n        return () => socket.disconnect()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(socketConn) {\r\n            socketConn.on('client: game end', () => {\r\n                setIsGameEnd(true)\r\n                socketConn.disconnect()\r\n            })\r\n            socketConn.on('client: game start', () => setIsGameStart(true))\r\n            socketConn.on('connect_error', (err) => {\r\n                console.log('Connection Error: : ', err.message)\r\n                socketConn.disconnect()\r\n            })\r\n        } \r\n    }, [socketConn])\r\n\r\n    const handlePress = (e: h.JSX.TargetedMouseEvent<HTMLButtonElement>) => {\r\n        socketConn?.emit('client: player press', (e.target as any).value, input.playerName)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>{input.playerName}</p>\r\n            <p>Instructions: There are 2 buttons down below please hit that to score within 5 seconds</p>\r\n            <p>{isGameStart ? 'Hit Those Button' : 'The Game Will start soon. Get Ready'}</p>\r\n            <div className={styles.container}>\r\n                <button disabled={isGameStart ? isGameEnd ? true : false : true} onClick={handlePress} value='orange' className={`${styles.btn} ${styles.orange}`} />\r\n                <button disabled={isGameStart ? isGameEnd ? true : false : true} onClick={handlePress} value='blue' className={`${styles.btn} ${styles.blue}`} />\r\n            </div>\r\n            {isGameEnd && <p>The Time Is Up !!!! Good Job Guys</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Content;","import App from './components/app';\n\nexport default App;\n","import { FunctionalComponent, h} from 'preact';\nimport {useState} from 'preact/hooks'\nimport Content from './content' \n\nconst App: FunctionalComponent = () => {\n    const [playerName, setPlayerName] = useState<string>('')\n    const [confirmToJoin, setConfirm] = useState<boolean>(false)\n\n    return (\n        <div>\n            {\n                confirmToJoin \n                    ? <Content playerName={playerName} />\n                    : (<div>\n                        <label for=\"panme\">Please Enter Display Name</label>\n                        <br />\n                        <input type=\"text\" id=\"pname\" name=\"pname\" onChange={(e) => setPlayerName((e.target as any).value)} />\n                        <br />\n                        <button onClick={() => playerName.length > 2 ? setConfirm(true) : null}>PLAY</button>\n                    </div>)\n            }\n        </div>\n    );\n};\n\nexport default App;\n","const Transport = require(\"../transport\");\nconst parseqs = require(\"parseqs\");\nconst parser = require(\"engine.io-parser\");\nconst yeast = require(\"yeast\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling\");\n\nclass Polling extends Transport {\n  /**\n   * Transport name.\n   */\n  get name() {\n    return \"polling\";\n  }\n\n  /**\n   * Opens the socket (triggers polling). We write a PING message to determine\n   * when the transport is open.\n   *\n   * @api private\n   */\n  doOpen() {\n    this.poll();\n  }\n\n  /**\n   * Pauses polling.\n   *\n   * @param {Function} callback upon buffers are flushed and transport is paused\n   * @api private\n   */\n  pause(onPause) {\n    this.readyState = \"pausing\";\n\n    const pause = () => {\n      debug(\"paused\");\n      this.readyState = \"paused\";\n      onPause();\n    };\n\n    if (this.polling || !this.writable) {\n      let total = 0;\n\n      if (this.polling) {\n        debug(\"we are currently polling - waiting to pause\");\n        total++;\n        this.once(\"pollComplete\", function() {\n          debug(\"pre-pause polling complete\");\n          --total || pause();\n        });\n      }\n\n      if (!this.writable) {\n        debug(\"we are currently writing - waiting to pause\");\n        total++;\n        this.once(\"drain\", function() {\n          debug(\"pre-pause writing complete\");\n          --total || pause();\n        });\n      }\n    } else {\n      pause();\n    }\n  }\n\n  /**\n   * Starts polling cycle.\n   *\n   * @api public\n   */\n  poll() {\n    debug(\"polling\");\n    this.polling = true;\n    this.doPoll();\n    this.emit(\"poll\");\n  }\n\n  /**\n   * Overloads onData to detect payloads.\n   *\n   * @api private\n   */\n  onData(data) {\n    debug(\"polling got data %s\", data);\n    const callback = packet => {\n      // if its the first message we consider the transport open\n      if (\"opening\" === this.readyState && packet.type === \"open\") {\n        this.onOpen();\n      }\n\n      // if its a close packet, we close the ongoing requests\n      if (\"close\" === packet.type) {\n        this.onClose();\n        return false;\n      }\n\n      // otherwise bypass onData and handle the message\n      this.onPacket(packet);\n    };\n\n    // decode payload\n    parser.decodePayload(data, this.socket.binaryType).forEach(callback);\n\n    // if an event did not trigger closing\n    if (\"closed\" !== this.readyState) {\n      // if we got data we're not polling\n      this.polling = false;\n      this.emit(\"pollComplete\");\n\n      if (\"open\" === this.readyState) {\n        this.poll();\n      } else {\n        debug('ignoring poll - transport state \"%s\"', this.readyState);\n      }\n    }\n  }\n\n  /**\n   * For polling, send a close packet.\n   *\n   * @api private\n   */\n  doClose() {\n    const close = () => {\n      debug(\"writing close packet\");\n      this.write([{ type: \"close\" }]);\n    };\n\n    if (\"open\" === this.readyState) {\n      debug(\"transport open - closing\");\n      close();\n    } else {\n      // in case we're trying to close while\n      // handshaking is in progress (GH-164)\n      debug(\"transport not open - deferring close\");\n      this.once(\"open\", close);\n    }\n  }\n\n  /**\n   * Writes a packets payload.\n   *\n   * @param {Array} data packets\n   * @param {Function} drain callback\n   * @api private\n   */\n  write(packets) {\n    this.writable = false;\n\n    parser.encodePayload(packets, data => {\n      this.doWrite(data, () => {\n        this.writable = true;\n        this.emit(\"drain\");\n      });\n    });\n  }\n\n  /**\n   * Generates uri for connection.\n   *\n   * @api private\n   */\n  uri() {\n    let query = this.query || {};\n    const schema = this.opts.secure ? \"https\" : \"http\";\n    let port = \"\";\n\n    // cache busting is forced\n    if (false !== this.opts.timestampRequests) {\n      query[this.opts.timestampParam] = yeast();\n    }\n\n    if (!this.supportsBinary && !query.sid) {\n      query.b64 = 1;\n    }\n\n    query = parseqs.encode(query);\n\n    // avoid port if default for schema\n    if (\n      this.opts.port &&\n      ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n        (\"http\" === schema && Number(this.opts.port) !== 80))\n    ) {\n      port = \":\" + this.opts.port;\n    }\n\n    // prepend ? to query\n    if (query.length) {\n      query = \"?\" + query;\n    }\n\n    const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n    return (\n      schema +\n      \"://\" +\n      (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n      port +\n      this.opts.path +\n      query\n    );\n  }\n}\n\nmodule.exports = Polling;\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/* global attachEvent */\n\nconst XMLHttpRequest = require(\"../../contrib/xmlhttprequest-ssl/XMLHttpRequest\");\nconst Polling = require(\"./polling\");\nconst Emitter = require(\"component-emitter\");\nconst { pick } = require(\"../util\");\nconst globalThis = require(\"../globalThis\");\n\nconst debug = require(\"debug\")(\"engine.io-client:polling-xhr\");\n\n/**\n * Empty function\n */\n\nfunction empty() {}\n\nconst hasXHR2 = (function() {\n  const xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\nclass XHR extends Polling {\n  /**\n   * XHR Polling constructor.\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  constructor(opts) {\n    super(opts);\n\n    if (typeof location !== \"undefined\") {\n      const isSSL = \"https:\" === location.protocol;\n      let port = location.port;\n\n      // some user agents have empty `location.port`\n      if (!port) {\n        port = isSSL ? 443 : 80;\n      }\n\n      this.xd =\n        (typeof location !== \"undefined\" &&\n          opts.hostname !== location.hostname) ||\n        port !== opts.port;\n      this.xs = opts.secure !== isSSL;\n    }\n    /**\n     * XHR supports binary\n     */\n    const forceBase64 = opts && opts.forceBase64;\n    this.supportsBinary = hasXHR2 && !forceBase64;\n  }\n\n  /**\n   * Creates a request.\n   *\n   * @param {String} method\n   * @api private\n   */\n  request(opts = {}) {\n    Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n    return new Request(this.uri(), opts);\n  }\n\n  /**\n   * Sends data.\n   *\n   * @param {String} data to send.\n   * @param {Function} called upon flush.\n   * @api private\n   */\n  doWrite(data, fn) {\n    const req = this.request({\n      method: \"POST\",\n      data: data\n    });\n    req.on(\"success\", fn);\n    req.on(\"error\", err => {\n      this.onError(\"xhr post error\", err);\n    });\n  }\n\n  /**\n   * Starts a poll cycle.\n   *\n   * @api private\n   */\n  doPoll() {\n    debug(\"xhr poll\");\n    const req = this.request();\n    req.on(\"data\", this.onData.bind(this));\n    req.on(\"error\", err => {\n      this.onError(\"xhr poll error\", err);\n    });\n    this.pollXhr = req;\n  }\n}\n\nclass Request extends Emitter {\n  /**\n   * Request constructor\n   *\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts) {\n    super();\n    this.opts = opts;\n\n    this.method = opts.method || \"GET\";\n    this.uri = uri;\n    this.async = false !== opts.async;\n    this.data = undefined !== opts.data ? opts.data : null;\n\n    this.create();\n  }\n\n  /**\n   * Creates the XHR object and sends the request.\n   *\n   * @api private\n   */\n  create() {\n    const opts = pick(\n      this.opts,\n      \"agent\",\n      \"enablesXDR\",\n      \"pfx\",\n      \"key\",\n      \"passphrase\",\n      \"cert\",\n      \"ca\",\n      \"ciphers\",\n      \"rejectUnauthorized\",\n      \"autoUnref\"\n    );\n    opts.xdomain = !!this.opts.xd;\n    opts.xscheme = !!this.opts.xs;\n\n    const xhr = (this.xhr = new XMLHttpRequest(opts));\n\n    try {\n      debug(\"xhr open %s: %s\", this.method, this.uri);\n      xhr.open(this.method, this.uri, this.async);\n      try {\n        if (this.opts.extraHeaders) {\n          xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n          for (let i in this.opts.extraHeaders) {\n            if (this.opts.extraHeaders.hasOwnProperty(i)) {\n              xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n            }\n          }\n        }\n      } catch (e) {}\n\n      if (\"POST\" === this.method) {\n        try {\n          xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n        } catch (e) {}\n      }\n\n      try {\n        xhr.setRequestHeader(\"Accept\", \"*/*\");\n      } catch (e) {}\n\n      // ie6 check\n      if (\"withCredentials\" in xhr) {\n        xhr.withCredentials = this.opts.withCredentials;\n      }\n\n      if (this.opts.requestTimeout) {\n        xhr.timeout = this.opts.requestTimeout;\n      }\n\n      if (this.hasXDR()) {\n        xhr.onload = () => {\n          this.onLoad();\n        };\n        xhr.onerror = () => {\n          this.onError(xhr.responseText);\n        };\n      } else {\n        xhr.onreadystatechange = () => {\n          if (4 !== xhr.readyState) return;\n          if (200 === xhr.status || 1223 === xhr.status) {\n            this.onLoad();\n          } else {\n            // make sure the `error` event handler that's user-set\n            // does not throw in the same tick and gets caught here\n            setTimeout(() => {\n              this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n            }, 0);\n          }\n        };\n      }\n\n      debug(\"xhr data %s\", this.data);\n      xhr.send(this.data);\n    } catch (e) {\n      // Need to defer since .create() is called directly from the constructor\n      // and thus the 'error' event can only be only bound *after* this exception\n      // occurs.  Therefore, also, we cannot throw here at all.\n      setTimeout(() => {\n        this.onError(e);\n      }, 0);\n      return;\n    }\n\n    if (typeof document !== \"undefined\") {\n      this.index = Request.requestsCount++;\n      Request.requests[this.index] = this;\n    }\n  }\n\n  /**\n   * Called upon successful response.\n   *\n   * @api private\n   */\n  onSuccess() {\n    this.emit(\"success\");\n    this.cleanup();\n  }\n\n  /**\n   * Called if we have data.\n   *\n   * @api private\n   */\n  onData(data) {\n    this.emit(\"data\", data);\n    this.onSuccess();\n  }\n\n  /**\n   * Called upon error.\n   *\n   * @api private\n   */\n  onError(err) {\n    this.emit(\"error\", err);\n    this.cleanup(true);\n  }\n\n  /**\n   * Cleans up house.\n   *\n   * @api private\n   */\n  cleanup(fromError) {\n    if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n      return;\n    }\n    // xmlhttprequest\n    if (this.hasXDR()) {\n      this.xhr.onload = this.xhr.onerror = empty;\n    } else {\n      this.xhr.onreadystatechange = empty;\n    }\n\n    if (fromError) {\n      try {\n        this.xhr.abort();\n      } catch (e) {}\n    }\n\n    if (typeof document !== \"undefined\") {\n      delete Request.requests[this.index];\n    }\n\n    this.xhr = null;\n  }\n\n  /**\n   * Called upon load.\n   *\n   * @api private\n   */\n  onLoad() {\n    const data = this.xhr.responseText;\n    if (data !== null) {\n      this.onData(data);\n    }\n  }\n\n  /**\n   * Check if it has XDomainRequest.\n   *\n   * @api private\n   */\n  hasXDR() {\n    return typeof XDomainRequest !== \"undefined\" && !this.xs && this.enablesXDR;\n  }\n\n  /**\n   * Aborts the request.\n   *\n   * @api public\n   */\n  abort() {\n    this.cleanup();\n  }\n}\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== \"undefined\") {\n  if (typeof attachEvent === \"function\") {\n    attachEvent(\"onunload\", unloadHandler);\n  } else if (typeof addEventListener === \"function\") {\n    const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (let i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n","const parser = require(\"engine.io-parser\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:transport\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      // this might happen if the transport was silently closed in the beforeunload event handler\n      debug(\"transport is not open, discarding packets\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n","const transports = require(\"./transports/index\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:socket\");\nconst parser = require(\"engine.io-parser\");\nconst parseuri = require(\"parseuri\");\nconst parseqs = require(\"parseqs\");\n\nclass Socket extends Emitter {\n  /**\n   * Socket constructor.\n   *\n   * @param {String|Object} uri or options\n   * @param {Object} options\n   * @api public\n   */\n  constructor(uri, opts = {}) {\n    super();\n\n    if (uri && \"object\" === typeof uri) {\n      opts = uri;\n      uri = null;\n    }\n\n    if (uri) {\n      uri = parseuri(uri);\n      opts.hostname = uri.host;\n      opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n      opts.port = uri.port;\n      if (uri.query) opts.query = uri.query;\n    } else if (opts.host) {\n      opts.hostname = parseuri(opts.host).host;\n    }\n\n    this.secure =\n      null != opts.secure\n        ? opts.secure\n        : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n\n    if (opts.hostname && !opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? \"443\" : \"80\";\n    }\n\n    this.hostname =\n      opts.hostname ||\n      (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n    this.port =\n      opts.port ||\n      (typeof location !== \"undefined\" && location.port\n        ? location.port\n        : this.secure\n        ? 443\n        : 80);\n\n    this.transports = opts.transports || [\"polling\", \"websocket\"];\n    this.readyState = \"\";\n    this.writeBuffer = [];\n    this.prevBufferLen = 0;\n\n    this.opts = Object.assign(\n      {\n        path: \"/engine.io\",\n        agent: false,\n        withCredentials: false,\n        upgrade: true,\n        jsonp: true,\n        timestampParam: \"t\",\n        rememberUpgrade: false,\n        rejectUnauthorized: true,\n        perMessageDeflate: {\n          threshold: 1024\n        },\n        transportOptions: {},\n        closeOnBeforeunload: true\n      },\n      opts\n    );\n\n    this.opts.path = this.opts.path.replace(/\\/$/, \"\") + \"/\";\n\n    if (typeof this.opts.query === \"string\") {\n      this.opts.query = parseqs.decode(this.opts.query);\n    }\n\n    // set on handshake\n    this.id = null;\n    this.upgrades = null;\n    this.pingInterval = null;\n    this.pingTimeout = null;\n\n    // set on heartbeat\n    this.pingTimeoutTimer = null;\n\n    if (typeof addEventListener === \"function\") {\n      if (this.opts.closeOnBeforeunload) {\n        // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n        // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n        // closed/reloaded)\n        addEventListener(\n          \"beforeunload\",\n          () => {\n            if (this.transport) {\n              // silently close the transport\n              this.transport.removeAllListeners();\n              this.transport.close();\n            }\n          },\n          false\n        );\n      }\n      if (this.hostname !== \"localhost\") {\n        this.offlineEventListener = () => {\n          this.onClose(\"transport close\");\n        };\n        addEventListener(\"offline\", this.offlineEventListener, false);\n      }\n    }\n\n    this.open();\n  }\n\n  /**\n   * Creates transport of the given type.\n   *\n   * @param {String} transport name\n   * @return {Transport}\n   * @api private\n   */\n  createTransport(name) {\n    debug('creating transport \"%s\"', name);\n    const query = clone(this.opts.query);\n\n    // append engine.io protocol identifier\n    query.EIO = parser.protocol;\n\n    // transport name\n    query.transport = name;\n\n    // session id if we already have one\n    if (this.id) query.sid = this.id;\n\n    const opts = Object.assign(\n      {},\n      this.opts.transportOptions[name],\n      this.opts,\n      {\n        query,\n        socket: this,\n        hostname: this.hostname,\n        secure: this.secure,\n        port: this.port\n      }\n    );\n\n    debug(\"options: %j\", opts);\n\n    return new transports[name](opts);\n  }\n\n  /**\n   * Initializes transport to use and starts probe.\n   *\n   * @api private\n   */\n  open() {\n    let transport;\n    if (\n      this.opts.rememberUpgrade &&\n      Socket.priorWebsocketSuccess &&\n      this.transports.indexOf(\"websocket\") !== -1\n    ) {\n      transport = \"websocket\";\n    } else if (0 === this.transports.length) {\n      // Emit error on next tick so it can be listened to\n      setTimeout(() => {\n        this.emit(\"error\", \"No transports available\");\n      }, 0);\n      return;\n    } else {\n      transport = this.transports[0];\n    }\n    this.readyState = \"opening\";\n\n    // Retry with the next transport if the transport is disabled (jsonp: false)\n    try {\n      transport = this.createTransport(transport);\n    } catch (e) {\n      debug(\"error while creating transport: %s\", e);\n      this.transports.shift();\n      this.open();\n      return;\n    }\n\n    transport.open();\n    this.setTransport(transport);\n  }\n\n  /**\n   * Sets the current transport. Disables the existing one (if any).\n   *\n   * @api private\n   */\n  setTransport(transport) {\n    debug(\"setting transport %s\", transport.name);\n\n    if (this.transport) {\n      debug(\"clearing existing transport %s\", this.transport.name);\n      this.transport.removeAllListeners();\n    }\n\n    // set up transport\n    this.transport = transport;\n\n    // set up transport listeners\n    transport\n      .on(\"drain\", this.onDrain.bind(this))\n      .on(\"packet\", this.onPacket.bind(this))\n      .on(\"error\", this.onError.bind(this))\n      .on(\"close\", () => {\n        this.onClose(\"transport close\");\n      });\n  }\n\n  /**\n   * Probes a transport.\n   *\n   * @param {String} transport name\n   * @api private\n   */\n  probe(name) {\n    debug('probing transport \"%s\"', name);\n    let transport = this.createTransport(name, { probe: 1 });\n    let failed = false;\n\n    Socket.priorWebsocketSuccess = false;\n\n    const onTransportOpen = () => {\n      if (failed) return;\n\n      debug('probe transport \"%s\" opened', name);\n      transport.send([{ type: \"ping\", data: \"probe\" }]);\n      transport.once(\"packet\", msg => {\n        if (failed) return;\n        if (\"pong\" === msg.type && \"probe\" === msg.data) {\n          debug('probe transport \"%s\" pong', name);\n          this.upgrading = true;\n          this.emit(\"upgrading\", transport);\n          if (!transport) return;\n          Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n\n          debug('pausing current transport \"%s\"', this.transport.name);\n          this.transport.pause(() => {\n            if (failed) return;\n            if (\"closed\" === this.readyState) return;\n            debug(\"changing transport and sending upgrade packet\");\n\n            cleanup();\n\n            this.setTransport(transport);\n            transport.send([{ type: \"upgrade\" }]);\n            this.emit(\"upgrade\", transport);\n            transport = null;\n            this.upgrading = false;\n            this.flush();\n          });\n        } else {\n          debug('probe transport \"%s\" failed', name);\n          const err = new Error(\"probe error\");\n          err.transport = transport.name;\n          this.emit(\"upgradeError\", err);\n        }\n      });\n    };\n\n    function freezeTransport() {\n      if (failed) return;\n\n      // Any callback called by transport should be ignored since now\n      failed = true;\n\n      cleanup();\n\n      transport.close();\n      transport = null;\n    }\n\n    // Handle any error that happens while probing\n    const onerror = err => {\n      const error = new Error(\"probe error: \" + err);\n      error.transport = transport.name;\n\n      freezeTransport();\n\n      debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n      this.emit(\"upgradeError\", error);\n    };\n\n    function onTransportClose() {\n      onerror(\"transport closed\");\n    }\n\n    // When the socket is closed while we're probing\n    function onclose() {\n      onerror(\"socket closed\");\n    }\n\n    // When the socket is upgraded while we're probing\n    function onupgrade(to) {\n      if (transport && to.name !== transport.name) {\n        debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n        freezeTransport();\n      }\n    }\n\n    // Remove all listeners on the transport and on self\n    const cleanup = () => {\n      transport.removeListener(\"open\", onTransportOpen);\n      transport.removeListener(\"error\", onerror);\n      transport.removeListener(\"close\", onTransportClose);\n      this.removeListener(\"close\", onclose);\n      this.removeListener(\"upgrading\", onupgrade);\n    };\n\n    transport.once(\"open\", onTransportOpen);\n    transport.once(\"error\", onerror);\n    transport.once(\"close\", onTransportClose);\n\n    this.once(\"close\", onclose);\n    this.once(\"upgrading\", onupgrade);\n\n    transport.open();\n  }\n\n  /**\n   * Called when connection is deemed open.\n   *\n   * @api public\n   */\n  onOpen() {\n    debug(\"socket open\");\n    this.readyState = \"open\";\n    Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n    this.emit(\"open\");\n    this.flush();\n\n    // we check for `readyState` in case an `open`\n    // listener already closed the socket\n    if (\n      \"open\" === this.readyState &&\n      this.opts.upgrade &&\n      this.transport.pause\n    ) {\n      debug(\"starting upgrade probes\");\n      let i = 0;\n      const l = this.upgrades.length;\n      for (; i < l; i++) {\n        this.probe(this.upgrades[i]);\n      }\n    }\n  }\n\n  /**\n   * Handles a packet.\n   *\n   * @api private\n   */\n  onPacket(packet) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n      this.emit(\"packet\", packet);\n\n      // Socket is live - any packet counts\n      this.emit(\"heartbeat\");\n\n      switch (packet.type) {\n        case \"open\":\n          this.onHandshake(JSON.parse(packet.data));\n          break;\n\n        case \"ping\":\n          this.resetPingTimeout();\n          this.sendPacket(\"pong\");\n          this.emit(\"ping\");\n          this.emit(\"pong\");\n          break;\n\n        case \"error\":\n          const err = new Error(\"server error\");\n          err.code = packet.data;\n          this.onError(err);\n          break;\n\n        case \"message\":\n          this.emit(\"data\", packet.data);\n          this.emit(\"message\", packet.data);\n          break;\n      }\n    } else {\n      debug('packet received with socket readyState \"%s\"', this.readyState);\n    }\n  }\n\n  /**\n   * Called upon handshake completion.\n   *\n   * @param {Object} handshake obj\n   * @api private\n   */\n  onHandshake(data) {\n    this.emit(\"handshake\", data);\n    this.id = data.sid;\n    this.transport.query.sid = data.sid;\n    this.upgrades = this.filterUpgrades(data.upgrades);\n    this.pingInterval = data.pingInterval;\n    this.pingTimeout = data.pingTimeout;\n    this.onOpen();\n    // In case open handler closes socket\n    if (\"closed\" === this.readyState) return;\n    this.resetPingTimeout();\n  }\n\n  /**\n   * Sets and resets ping timeout timer based on server pings.\n   *\n   * @api private\n   */\n  resetPingTimeout() {\n    clearTimeout(this.pingTimeoutTimer);\n    this.pingTimeoutTimer = setTimeout(() => {\n      this.onClose(\"ping timeout\");\n    }, this.pingInterval + this.pingTimeout);\n    if (this.opts.autoUnref) {\n      this.pingTimeoutTimer.unref();\n    }\n  }\n\n  /**\n   * Called on `drain` event\n   *\n   * @api private\n   */\n  onDrain() {\n    this.writeBuffer.splice(0, this.prevBufferLen);\n\n    // setting prevBufferLen = 0 is very important\n    // for example, when upgrading, upgrade packet is sent over,\n    // and a nonzero prevBufferLen could cause problems on `drain`\n    this.prevBufferLen = 0;\n\n    if (0 === this.writeBuffer.length) {\n      this.emit(\"drain\");\n    } else {\n      this.flush();\n    }\n  }\n\n  /**\n   * Flush write buffers.\n   *\n   * @api private\n   */\n  flush() {\n    if (\n      \"closed\" !== this.readyState &&\n      this.transport.writable &&\n      !this.upgrading &&\n      this.writeBuffer.length\n    ) {\n      debug(\"flushing %d packets in socket\", this.writeBuffer.length);\n      this.transport.send(this.writeBuffer);\n      // keep track of current length of writeBuffer\n      // splice writeBuffer and callbackBuffer on `drain`\n      this.prevBufferLen = this.writeBuffer.length;\n      this.emit(\"flush\");\n    }\n  }\n\n  /**\n   * Sends a message.\n   *\n   * @param {String} message.\n   * @param {Function} callback function.\n   * @param {Object} options.\n   * @return {Socket} for chaining.\n   * @api public\n   */\n  write(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  send(msg, options, fn) {\n    this.sendPacket(\"message\", msg, options, fn);\n    return this;\n  }\n\n  /**\n   * Sends a packet.\n   *\n   * @param {String} packet type.\n   * @param {String} data.\n   * @param {Object} options.\n   * @param {Function} callback function.\n   * @api private\n   */\n  sendPacket(type, data, options, fn) {\n    if (\"function\" === typeof data) {\n      fn = data;\n      data = undefined;\n    }\n\n    if (\"function\" === typeof options) {\n      fn = options;\n      options = null;\n    }\n\n    if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n      return;\n    }\n\n    options = options || {};\n    options.compress = false !== options.compress;\n\n    const packet = {\n      type: type,\n      data: data,\n      options: options\n    };\n    this.emit(\"packetCreate\", packet);\n    this.writeBuffer.push(packet);\n    if (fn) this.once(\"flush\", fn);\n    this.flush();\n  }\n\n  /**\n   * Closes the connection.\n   *\n   * @api private\n   */\n  close() {\n    const close = () => {\n      this.onClose(\"forced close\");\n      debug(\"socket closing - telling transport to close\");\n      this.transport.close();\n    };\n\n    const cleanupAndClose = () => {\n      this.removeListener(\"upgrade\", cleanupAndClose);\n      this.removeListener(\"upgradeError\", cleanupAndClose);\n      close();\n    };\n\n    const waitForUpgrade = () => {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      this.once(\"upgrade\", cleanupAndClose);\n      this.once(\"upgradeError\", cleanupAndClose);\n    };\n\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.readyState = \"closing\";\n\n      if (this.writeBuffer.length) {\n        this.once(\"drain\", () => {\n          if (this.upgrading) {\n            waitForUpgrade();\n          } else {\n            close();\n          }\n        });\n      } else if (this.upgrading) {\n        waitForUpgrade();\n      } else {\n        close();\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Called upon transport error\n   *\n   * @api private\n   */\n  onError(err) {\n    debug(\"socket error %j\", err);\n    Socket.priorWebsocketSuccess = false;\n    this.emit(\"error\", err);\n    this.onClose(\"transport error\", err);\n  }\n\n  /**\n   * Called upon transport close.\n   *\n   * @api private\n   */\n  onClose(reason, desc) {\n    if (\n      \"opening\" === this.readyState ||\n      \"open\" === this.readyState ||\n      \"closing\" === this.readyState\n    ) {\n      debug('socket close with reason: \"%s\"', reason);\n\n      // clear timers\n      clearTimeout(this.pingIntervalTimer);\n      clearTimeout(this.pingTimeoutTimer);\n\n      // stop event from firing again for transport\n      this.transport.removeAllListeners(\"close\");\n\n      // ensure transport won't stay open\n      this.transport.close();\n\n      // ignore further transport communication\n      this.transport.removeAllListeners();\n\n      if (typeof removeEventListener === \"function\") {\n        removeEventListener(\"offline\", this.offlineEventListener, false);\n      }\n\n      // set ready state\n      this.readyState = \"closed\";\n\n      // clear session id\n      this.id = null;\n\n      // emit close event\n      this.emit(\"close\", reason, desc);\n\n      // clean buffers after, so users can still\n      // grab the buffers on `close` event\n      this.writeBuffer = [];\n      this.prevBufferLen = 0;\n    }\n  }\n\n  /**\n   * Filters upgrades, returning only those matching client transports.\n   *\n   * @param {Array} server upgrades\n   * @api private\n   *\n   */\n  filterUpgrades(upgrades) {\n    const filteredUpgrades = [];\n    let i = 0;\n    const j = upgrades.length;\n    for (; i < j; i++) {\n      if (~this.transports.indexOf(upgrades[i]))\n        filteredUpgrades.push(upgrades[i]);\n    }\n    return filteredUpgrades;\n  }\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\nfunction clone(obj) {\n  const o = {};\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nmodule.exports = Socket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n"],"sourceRoot":""}